<!DOCTYPE html>
<html>
<head>
    <title>Imagen nueva desde URL externa</title>
</head>
<body>
    <button id="enviarBtn">Send POST</button>
    <button id="startStreaming">Start streaming</button>
    <button id="stopStreaming">End Streaming</button>
    <h1>Automatischer Bildwechsel</h1>
    <img src="http://192.168.137.103/640x480.jpg" alt="Ejemplo de imagen en línea">
    <script>

      document.getElementById('startStreaming').addEventListener('click', function() {
        var xhr = new XMLHttpRequest();
        var pathimg = "/imageStreaming"; // Hier den gewünschten Pfad eintragen
        xhr.open("GET", pathimg, true);
      
        xhr.onload = function() {
            if (xhr.status === 200) {
                alert("GET-Anfrage erfolgreich.");
            } else {
                alert("Fehler bei der GET-Anfrage.");
            }
        };

        xhr.send();
      });

      document.getElementById('enviarBtn').addEventListener('click', function() {
        // Datos que deseas enviar en la solicitud POST
        var datos = { mensaje: "flashON" };
        var pathflash = "/flash";
        // Convierte los datos a una cadena JSON
        var jsonDatos = JSON.stringify(datos);

        // Configura la solicitud POST
        var xhr = new XMLHttpRequest();
        xhr.open("POST", pathflash, true);
        xhr.setRequestHeader("Content-Type", "application/json");

        // Maneja la respuesta de la solicitud POST
        xhr.onload = function() {
            if (xhr.status === 200) {
                alert("Solicitud POST exitosa");
            } else {
                alert("Error en la solicitud POST");
            }
        };

        // Envía la solicitud POST con los datos
        xhr.send(jsonDatos);
      });
    </script>

</body>
</html>
